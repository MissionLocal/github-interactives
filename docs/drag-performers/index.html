<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Drag performances</title>
        <meta charset="UTF-8">
        <meta name="description" content="All the drag performances in the competition at Pride.">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="images/favicon.jpg">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="styles.css">


    <body>

        <div class="everything">
           
            <div class="container">
                <div class="row">
                <div class="col-4@sm col-3@md">
                    <div class="filters-group">
                    <label for="filters-search-input" class="filter-label">Search</label>
                    <input class="textfield filter__search js-shuffle-search" type="search" id="filters-search-input" />
                    </div>
                </div>
                </div>
            </div>
            
            <div class="container">
                <div id="grid" class="row my-shuffle-container">

                    <!-- image 1 -->
                    <div id="popup1" class="modal" role="dialog" tabindex="-1">
                        <div class="model-inner">
                          <div class="modal-header">
                            <h3>Name</h3>
                            <p class="modal-close" data-id="popup1" aria-label="Close">
                              Close
                            </p>
                          </div>
                          <p>
                            Details to come.
                          </p>
                        </div>
                    </div>
                    <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                        <div class="img__wrap popup-open" data-id="popup1">
                            <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                            <div class="img__description_layer">
                                <p class="img__description name">Name</p>
                            </div>
                        </div>
                    </figure>

                    <!-- image 2 -->
                    <div id="popup2" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup2" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup2">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 3 -->
                    <div id="popup3" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup3" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup3">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 4 -->
                    <div id="popup4" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup4" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup4">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 5 -->
                    <div id="popup5" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup5" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup5">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 6 -->
                    <div id="popup6" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup6" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup6">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 7 -->
                    <div id="popup7" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup7" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup7">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 8 -->
                    <div id="popup8" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup8" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup8">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 9 -->
                    <div id="popup9" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup9" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup9">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 10 -->
                    <div id="popup10" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup10" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup10">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 11 -->
                    <div id="popup11" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup11" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup11">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 12 -->
                    <div id="popup12" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup12" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup12">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 13 -->
                    <div id="popup13" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup13" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup13">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 14 -->
                    <div id="popup14" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup14" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup14">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 15 -->
                    <div id="popup15" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup15" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup15">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 16 -->
                    <div id="popup16" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup16" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup16">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 17 -->
                    <div id="popup17" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup17" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup17">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 18 -->
                    <div id="popup18" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup18" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup18">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 19 -->
                    <div id="popup19" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup19" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup19">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 20 -->
                    <div id="popup20" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup20" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup20">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 21 -->
                    <div id="popup21" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup21" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup21">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 22 -->
                    <div id="popup22" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup22" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup22">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 23 -->
                    <div id="popup23" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup23" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup23">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                    <!-- image 24 -->
                    <div id="popup24" class="modal" role="dialog" tabindex="-1">
                      <div class="model-inner">
                        <div class="modal-header">
                          <h3>Name</h3>
                          <p class="modal-close" data-id="popup24" aria-label="Close">
                            Close
                          </p>
                        </div>
                        <p>
                          Details to come.
                        </p>
                      </div>
                  </div>
                  <figure class="col-3@xs col-4@sm col-3@md picture-item picture-item--overlay card">
                      <div class="img__wrap popup-open" data-id="popup24">
                          <img src="images/placeholder.png" alt="Fill in this text." class="img__img" />
                          <div class="img__description_layer">
                              <p class="img__description name">Name</p>
                          </div>
                      </div>
                  </figure>

                <div class="col-1@sm col-1@xs my-sizer-element"></div>
                </div>
            </div>
        </div>

          <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/Shuffle/6.0.0/shuffle.min.js" integrity="sha512-fN+YeX/572qBnWu5Axj90DDyKjSNUfvR+8OaFkz27xnr+QE50vZHefJ+bplRrM284a8cJgMLxEipmKshf8vrug==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <script>

            var Shuffle = window.Shuffle;

            class Demo {
            constructor(element) {
                this.element = element;
                this.shuffle = new Shuffle(element, {
                itemSelector: '.picture-item',
                sizer: element.querySelector('.my-sizer-element'),
                });

                // log events
                this.addShuffleEventListeners();
                this.addSorting();
                this.addSearchFilter();
                }

            /**
             * Shuffle uses the CustomEvent constructor to dispatch events. You can listen
             * for them like you normally would (with jQuery for example).
             */
            addShuffleEventListeners() {
                this.shuffle.on(Shuffle.EventType.LAYOUT, (data) => {
                console.log('layout. data:', data);
                });
                this.shuffle.on(Shuffle.EventType.REMOVED, (data) => {
                console.log('removed. data:', data);
                });
            }

            _removeActiveClassFromChildren(parent) {
                const { children } = parent;
                for (let i = children.length - 1; i >= 0; i--) {
                children[i].classList.remove('active');
                }
            }

            addSorting() {
                const buttonGroup = document.querySelector('.sort-options');
                if (!buttonGroup) {
                return;
                }
                buttonGroup.addEventListener('change', this._handleSortChange.bind(this));
            }

            _handleSortChange(evt) {
                // Add and remove `active` class from buttons.
                const buttons = Array.from(evt.currentTarget.children);
                buttons.forEach((button) => {
                if (button.querySelector('input').value === evt.target.value) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
                });
                
                // Create the sort options to give to Shuffle.
                const { value } = evt.target;
                let options = {};
                
                function sortByDate(element) {
                return element.getAttribute('data-created');
                }
                
                function sortByTitle(element) {
                return element.getAttribute('data-title').toLowerCase();
                }
                
                if (value === 'date-created') {
                options = {
                    reverse: true,
                    by: sortByDate,
                };
                } else if (value === 'title') {
                options = {
                    by: sortByTitle,
                };
                }
                this.shuffle.sort(options);
            }

            // Advanced filtering
            addSearchFilter() {
                const searchInput = document.querySelector('.js-shuffle-search');
                if (!searchInput) {
                return;
                }
                searchInput.addEventListener('keyup', this._handleSearchKeyup.bind(this));
            }

            /**
             * Filter the shuffle instance by items with a title that matches the search input.
             * @param {Event} evt Event object.
             */
            _handleSearchKeyup(evt) {
                const searchText = evt.target.value.toLowerCase();
                this.shuffle.filter((element, shuffle) => {
                // If there is a current filter applied, ignore elements that don't match it.
                if (shuffle.group !== Shuffle.ALL_ITEMS) {
                    // Get the item's groups.
                    const groups = JSON.parse(element.getAttribute('data-groups'));
                    const isElementInCurrentGroup = groups.indexOf(shuffle.group) !== -1;
                    // Only search elements in the current group
                    if (!isElementInCurrentGroup) {
                    return false;
                    }
                }
                const titleElement = element.querySelector('.img__description');
                const titleText = titleElement.textContent.toLowerCase().trim();
                return titleText.indexOf(searchText) !== -1;
                });
            }
            }

            document.addEventListener('DOMContentLoaded', () => {
            window.demo = new Demo(document.getElementById('grid'));
            });

            function img1() {
                console.log('WORKING');
            }

        </script>

        <script type="text/javascript">
            // event listener on button click
            let modal;
            document.addEventListener("click", (e) => {
                console.log(e.target.className)
            if (e.target.className === "img__wrap popup-open") {
                console.log('clicked')
                modal = document.getElementById(e.target.dataset.id);
                openModal(modal);
            } else if (e.target.className === "modal-close") {
                closeModal(modal);
            } else {
                return;
            }
            });

            // open
            const openModal = (modal) => {
                //document.body.style.overflow = "hidden";
                modal.setAttribute("open", "true");
                let overlay = document.createElement("div");
                overlay.id = "modal-overlay";
                document.body.appendChild(overlay);
            };

            // closed
            const closeModal = (modal) => {
                //document.body.style.overflow = "auto";
                modal.removeAttribute("open");
                document.body.removeChild(document.getElementById("modal-overlay"));
            };
        </script>

    </body>
</html>